<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Oss测试</title>
    <link rel="stylesheet" type="text/css" th:href="@{/h-ui/css/layui.css}" href="static/h-ui/css/layui.css" />
    <link rel="stylesheet" type="text/css" th:href="@{/h-ui.admin/css/H-ui.admin.css}" href="static/h-ui.admin/css/H-ui.admin.css" />
    <link rel="stylesheet" type="text/css" th:href="@{/lib/Hui-iconfont/1.0.8/iconfont.css}" href="lib/Hui-iconfont/1.0.8/iconfont.css" />
    <link rel="stylesheet" type="text/css" th:href="@{/h-ui.admin/skin/blue/skin.css}" href="static/h-ui.admin/skin/blue/skin.css" id="skin" />
    <link rel="stylesheet" type="text/css" th:href="@{/h-ui.admin/css/style.css}" href="static/h-ui.admin/css/style.css" />
    <link rel="stylesheet" type="text/css" th:href="@{/h-ui/css/H-ui.min.css}" href="static/h-ui/css/H-ui.min.css" />
</head>
<body>
	<article class="page-container">
        <form class="form form-horizontal" action="downloadSingleFile" method="post">
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">单文件下载：</label>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">url</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  name="url" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">下载之后文件名（可选）</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  name="fileName" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <div class="col-xs-8 col-sm-9 col-xs-offset-7 col-sm-offset-5">
                    <input class="btn btn-primary radius" type="submit" value="&nbsp;&nbsp;下载&nbsp;&nbsp;"/>
                </div>
            </div>
        </form>
        <br/>
        <hr/>
        <form class="form form-horizontal" id="form-admin-add" action="downloadSingleFile" method="post">
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">单文件下载(JQ)：</label>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">url</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  id="url" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">下载之后文件名（可选）</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  id="fileName" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <div class="col-xs-8 col-sm-9 col-xs-offset-7 col-sm-offset-5">
                    <input class="btn btn-primary radius" type="button" onclick="downloadSingleFileTest();" value="&nbsp;&nbsp;下载&nbsp;&nbsp;"/>
                </div>
            </div>
        </form>
        <br/>
        <hr/>
        <form class="form form-horizontal" id="form-admin-add" action="downloadMultipartFileWithZip" method="post">
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">批量打包zip下载：</label>
            </div>
			<div class="row cl">
				<label class="form-label col-xs-4 col-sm-3">url</label>
				<div class="formControls col-xs-7 col-sm-8">
					<input class="input-text upload-url" type="text"  name="urlList[0]" value="" style="width:400px">
				</div>
			</div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3"></label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  name="urlList[1]" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">压缩包名称（可选）</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  name="zipName" style="width:400px">
                </div>
            </div>
			<div class="row cl">
				<div class="col-xs-8 col-sm-9 col-xs-offset-7 col-sm-offset-5">
					<input class="btn btn-primary radius" type="submit" value="&nbsp;&nbsp;下载&nbsp;&nbsp;"/>
				</div>
			</div>
		</form>
        <br/>
        <hr/>
        <form class="form form-horizontal" id="form-admin-add" action="downloadMultipartFileWithZip" method="post">
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">批量打包zip下载(JQ)：</label>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">url</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  id="urlList[0]" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3"></label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  id="urlList[1]" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-xs-4 col-sm-3">压缩包名称（可选）</label>
                <div class="formControls col-xs-7 col-sm-8">
                    <input class="input-text upload-url" type="text"  id="zipName" style="width:400px">
                </div>
            </div>
            <div class="row cl">
                <div class="col-xs-8 col-sm-9 col-xs-offset-7 col-sm-offset-5">
                    <input class="btn btn-primary radius" type="button" onclick="downloadMultipartFileWithZipTest();" value="&nbsp;&nbsp;下载&nbsp;&nbsp;"/>
                </div>
            </div>
        </form>
        <br/>
        <hr/>
        <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
	</article>
<script type="text/javascript" th:src="@{/jquery.min.js}" src="/jquery.min.js"></script>
<script data-n-head="true" th:src="@{/file.js}" src="/file.js"></script>
<script>
    function downloadSingleFileTest() {
        downloadSingleFile($('#url').val(),$('#fileName').val());
    }
    function downloadMultipartFileWithZipTest() {
        var urlArr = new  Array();
        $('input[id^=urlList]').each(function () {
            if ($(this).val() != ""){
                urlArr.push($(this).val());
            }
        });
        downloadMultipartFileWithZip(urlArr,$('#zipName').val());
    }
</script>
</body>
</html>